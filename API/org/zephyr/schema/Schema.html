<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_45) on Thu Jun 12 15:26:05 PDT 2014 -->
<title>Schema</title>
<meta name="date" content="2014-06-12">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Schema";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/zephyr/schema/Schema.html" target="_top">Frames</a></li>
<li><a href="Schema.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.zephyr.schema</div>
<h2 title="Class Schema" class="title">Class Schema</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.zephyr.schema.Schema</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Schema</span>
extends java.lang.Object</pre>
<div class="block">The Schema abstract class provides implementing classes with a contract to follow and some standard methods defined for
 the Scheme, Normalization, and Validation of a key:value pair for each implementing class (and subsequent feed).
 <p/>
 The idea behind this class (and subclasses) is for the developer to generate a Schema implementation for a feed.  Our current
 example feed is AIS, and thus we have an AISSchema.  The AISSchema has a few required fields (fields that must be there or we assume the record is invalid).
 These required fields are retrieved by the getRequiredFields() method, which (for best performance) should be set in the constructor of the implementing Schema .
 <p/>
 If a field does not validate or normalize correctly from the Scheme's map() method, a debug message is logged; if the field was a required field, the entire record will ultimately fail processing
 by throwing a SchemeException.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../org/zephyr/schema/Schema.html#Schema()">Schema</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#getFeedName()">getFeedName</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../org/zephyr/data/ProcessingResult.html" title="class in org.zephyr.data">ProcessingResult</a>&lt;<a href="../../../org/zephyr/data/Record.html" title="class in org.zephyr.data">Record</a>,java.util.List&lt;<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#map(java.util.List)">map</a></strong>(java.util.List&lt;<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&nbsp;orderedPairings)</code>
<div class="block">This method takes in a List<Pair> of orderedPairings (key:value pairs).</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../org/zephyr/data/ProcessingResult.html" title="class in org.zephyr.data">ProcessingResult</a>&lt;<a href="../../../org/zephyr/data/Entry.html" title="class in org.zephyr.data">Entry</a>,<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#normalizeAndValidate(org.zephyr.data.Pair)">normalizeAndValidate</a></strong>(<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&nbsp;pair)</code>
<div class="block">Attempts to find a Schema for the provided Pair (by using the Pair.getKey() as the key for the member variable "mappings").</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#setCatalogService(org.zephyr.service.CatalogService)">setCatalogService</a></strong>(<a href="../../../org/zephyr/service/CatalogService.html" title="interface in org.zephyr.service">CatalogService</a>&nbsp;catalogService)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#setFeedName(java.lang.String)">setFeedName</a></strong>(java.lang.String&nbsp;feedName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#setRequiredFields(java.util.Set)">setRequiredFields</a></strong>(java.util.Set&lt;java.lang.String&gt;&nbsp;requiredFields)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/zephyr/schema/Schema.html#setSchemata(java.util.List)">setSchemata</a></strong>(java.util.List&lt;<a href="../../../org/zephyr/schema/scheme/Scheme.html" title="class in org.zephyr.schema.scheme">Scheme</a>&gt;&nbsp;schemes)</code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Schema()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Schema</h4>
<pre>public&nbsp;Schema()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setFeedName(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setFeedName</h4>
<pre>public&nbsp;void&nbsp;setFeedName(java.lang.String&nbsp;feedName)</pre>
</li>
</ul>
<a name="setSchemata(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setSchemata</h4>
<pre>public&nbsp;void&nbsp;setSchemata(java.util.List&lt;<a href="../../../org/zephyr/schema/scheme/Scheme.html" title="class in org.zephyr.schema.scheme">Scheme</a>&gt;&nbsp;schemes)</pre>
</li>
</ul>
<a name="setRequiredFields(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setRequiredFields</h4>
<pre>public&nbsp;void&nbsp;setRequiredFields(java.util.Set&lt;java.lang.String&gt;&nbsp;requiredFields)</pre>
</li>
</ul>
<a name="setCatalogService(org.zephyr.service.CatalogService)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setCatalogService</h4>
<pre>public&nbsp;void&nbsp;setCatalogService(<a href="../../../org/zephyr/service/CatalogService.html" title="interface in org.zephyr.service">CatalogService</a>&nbsp;catalogService)</pre>
</li>
</ul>
<a name="map(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>map</h4>
<pre>public&nbsp;<a href="../../../org/zephyr/data/ProcessingResult.html" title="class in org.zephyr.data">ProcessingResult</a>&lt;<a href="../../../org/zephyr/data/Record.html" title="class in org.zephyr.data">Record</a>,java.util.List&lt;<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&gt;&nbsp;map(java.util.List&lt;<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&nbsp;orderedPairings)</pre>
<div class="block">This method takes in a List<Pair> of orderedPairings (key:value pairs).  It creates a new Record with a new UUID, then iterates over the list of Pair items.
 <p/>
 If the Pair item currently operated upon can be normalized and validated as per the Scheme for that pair.getKey() successfully, it is added to the Record
 and the pair.getKey() is added to the normalizedAndValidatedFields Set - this set keeps track of all the fields that have been successfully normalized, validated, mapped, and security labeled.
 <p/>
 After all Pairs have been mapped according to their scheme, we then check the normalizedAndValidatedFields Set against the requiredFields set - unless all requiredFields have been successfully operated over,
 we throw a SchemeException.  If all have been operated over successfully, we return the Record.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>orderedPairings</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/zephyr/schema/scheme/SchemeException.html" title="class in org.zephyr.schema.scheme">SchemeException</a></code></dd></dl>
</li>
</ul>
<a name="normalizeAndValidate(org.zephyr.data.Pair)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>normalizeAndValidate</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../org/zephyr/data/ProcessingResult.html" title="class in org.zephyr.data">ProcessingResult</a>&lt;<a href="../../../org/zephyr/data/Entry.html" title="class in org.zephyr.data">Entry</a>,<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&gt;&gt;&nbsp;normalizeAndValidate(<a href="../../../org/zephyr/data/Pair.html" title="class in org.zephyr.data">Pair</a>&nbsp;pair)
                                                                  throws <a href="../../../org/zephyr/schema/scheme/SchemeException.html" title="class in org.zephyr.schema.scheme">SchemeException</a></pre>
<div class="block">Attempts to find a Schema for the provided Pair (by using the Pair.getKey() as the key for the member variable "mappings").
 If one is not found, throws a SchemeException.
 <p/>
 If one is found, it returns the Canonicalized, Normalized, Validated, and Security Tagged Entry representation</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pair</code> - </dd>
<dt><span class="strong">Returns:</span></dt><dd></dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../org/zephyr/schema/scheme/SchemeException.html" title="class in org.zephyr.schema.scheme">SchemeException</a></code></dd></dl>
</li>
</ul>
<a name="getFeedName()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFeedName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getFeedName()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The feed name is a string representation of this data.  Ultimately, it can be used in many different writers in different ways; Hive table names, prepended or appended
         values to MapRed output folders, Accumulo cell names, etc.  This will allow us to work with only specific data types later.  This populates a field in each Record coming from the
         instantiating Schema called fieldName and passes it along with the data.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/zephyr/schema/Schema.html" target="_top">Frames</a></li>
<li><a href="Schema.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
